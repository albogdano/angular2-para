<h1>My Recipes &nbsp; <button (click)="newRecipeForm()">Add</button></h1>
<div>
  <form (submit)="search()">
    <input type="text" [(ngModel)]="q" name="searchText" placeholder="Search">
  </form>
</div>
<ul>
  <div class="empty-box" *ngIf="recipesList && recipesList.length == 0">
    No recipes to show.
  </div>
  <li *ngFor="let recipe of recipesList; let i = index" class="recipe-box">
    <div [hidden]="editedRecipes.get(recipe.id) || (!recipe.id && createMode)">
      <h3>{{recipe.name}}</h3>
      <hr>
      <div [innerHTML]="md2html(recipe.text)"></div>
      <br>
      <button href="#" (click)="editRecipe(recipe)">edit</button> &nbsp;
      <a href="#" (click)="removeRecipe(recipe.id)" class="red right">remove</a>
    </div>
    <div [hidden]="(recipe.id || !createMode) && !editedRecipes.get(recipe.id)">
      <form (submit)="addRecipe(recipe)">
        <div>
          <input [(ngModel)]="recipe.name" placeholder="Title" [name]="'name' + i">
        </div>
        <br>
        <div>
          <textarea [(ngModel)]="recipe.text" rows="10" cols="33" placeholder="Recipe" [name]="'text' + i"></textarea>
        </div>
        <button type="submit">
          <span *ngIf="createMode">Add</span>
          <span *ngIf="!createMode">Save</span>
        </button>
        &nbsp;
        <a href="#" (click)="closeForm(recipe.id)">Close</a>
      </form>
    </div>
  </li>
</ul>
